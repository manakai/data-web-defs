<!DOCTYPE html>
<title>XML tokenizer</title>

<h1><span>Tag open state</span></h1>
<!-- "Tag state" in XML5 -->

<p>Consume the <span>next input character</span>:

<dl class=switch>

<dt>U+0021 EXCLAMATION MARK (!)
<dd>
  <p>Switch to the <span>markup declaration open state</span>.

<dt>U+002F SOLIDUS (/)
<dd>
  <p>Switch to the <span>end tag open state</span>.

<dt>U+0009 CHARACTER TABULATION (tab)
<dt>U+000A LINE FEED (LF)
<dt>U+000C FORM FEED (FF)<!-- Not in XML5 -->
<dt>U+0020 SPACE
<!-- U+003A (:) in XML5 -->
<dt>EOF
<dd>
  <p><span>Parse error</span>.
  <p>Emit a U+003C LESS-THAN SIGN (&lt;) character token.
  <p>Switch to the <span>data state</span>.
  <p>Reconsume the <span>current input character</span>.

<dt>U+003F QUESTION MARK (?)
<dd>
  <p>Switch to the <span>PI state</span>.

<dt>U+003E GREATER-THAN SIGN (>)
<dd>
  <p><span>Parse error</span>.<!-- No error in XML5.  (Parse error
  in this document to support XML1.) -->
  <p>Switch to the <span>data state</span>.
  <p>Create a new <span>end tag token</span>.
  <p>Set its <i>tag name</i> to the empty string.
  <p>Emit the <span>current tag token</span>.

<!-- Not in XML5 -->
<dt>U+0000 NULL
<dd>
  <p><span>Parse error</span>.
  <p>Create a new <span>start tag token</span>.
  <p>Set its <i>tag name</i> to a U+FFFD REPLACEMENT CHARACTER
  character.
  <p>Switch to the <span>tag name state</span>.

<dt>Anything else
<dd>
  <p>Create a new <span>start tag token</span>.
  <p>Set its <i>tag name</i> to the <span>current input character</span>.
  <p>Switch to the <span>tag name state</span>.

</dl>

<h1><span>End tag open state</span></h1>
<!-- End tag state in XML5 -->

<p>Consume the <span>next input character</span>:

<dl class=switch>

<dt>U+0009 CHARACTER TABULATION (tab)
<dt>U+000A LINE FEED (LF)
<dt>U+000C FORM FEED (FF)<!-- Not in XML5 -->
<dt>U+0020 SPACE
<!-- U+003A (:) in XML5 -->
<dt>EOF
<dd>
  <p><span>Parse error</span>.
  <p>Emit a U+003C LESS-THAN SIGN (&lt;) character token.
  <p>Emit a U+002F SOLIDUS (/) character token.
  <p>Switch to the <span>data state</span>.
  <p>Reconsume the <span>current input character</span>.

<dt>U+003E GREATER-THAN SIGN (>)
<dd>
  <p><span>Parse error</span>.<!-- No error in XML5.  (Parse error
  in this document for compatibility with XML1.) -->
  <p>Switch to the <span>data state</span>.
  <p>Create a new <span>end tag token</span>.
  <p>Set its <i>tag name</i> to the empty string.
  <p>Emit the <span>current tag token</span>.

<!-- Not in XML5 -->
<dt>U+0000 NULL
<dd>
  <p><span>Parse error</span>.
  <p>Create a new <span>end tag token</span>.
  <p>Set its <i>tag name</i> to a U+FFFD REPLACEMENT CHARACTER
  character.
  <p>Switch to the <span>tag name state</span>.

<dt>Anything else
<dd>
  <p>Create a new <span>end tag token</span>.
  <p>Set its <i>tag name</i> to the <span>current input character</span>.
  <p>Switch to the <span>tag name state</span><!-- end tag name state
  in XML5-->.

</dl>
