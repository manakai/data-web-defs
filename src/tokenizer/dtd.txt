* bogus markup declaration state

>    -> DTD state; emit
EOF  -> DTD state; reconsume
ELSE -> 

* parameter entity name in DTD state

WS   -> error; DTD state
<>=&%"'`# -> error; DTD state; reconsume
;    -> append to temp; parameter entity reference in DTD; DTD state
EOF  -> DTD state; reconsume
NULL -> error; append U+FFFD to temp
ELSE -> append to temp

* parameter entity name in markup declaration state

WS   -> error; bogus markup declaration state
<>=&%"'`# -> error; bogus markup declaration state; reconsume
;    -> append to temp; parameter entity reference in markup declaration
EOF  -> error; bogus markup declaration state; reconsume
NULL -> error; append U+FFFD to temp
ELSE -> append to temp

* parameter entity name in entity value (double-quoted) state

WS   -> error; append temp to value; ENTITY value (double-quoted) state; reconsume
<>=&%"'`# -> error; append temp to value; ENTITY value (double-quoted) state; reconsume
;    -> append to temp; parameter entity reference in entity value; ENTITY value (double-quoted) state
EOF  -> DTD state; reconsume
NULL -> error; append U+FFFD to temp
ELSE -> append to temp

* parameter entity name in entity value (single-quoted) state

WS   -> error; append temp to value; ENTITY value (single-quoted) state; reconsume
<>=&%"'`# -> error; append temp to value; ENTITY value (single-quoted) state; reconsume
;    -> append to temp; parameter entity reference in entity value; ENTITY value (single-quoted) state
EOF  -> DTD state; reconsume
NULL -> error; append U+FFFD to temp
ELSE -> append to temp

* parameter entity name in entity value in entity state

WS   -> error; append temp to value; ENTITY value in entity state; reconsume
<>=&%"'`# -> error; append temp to value; ENTITY value in entity state; reconsume
;    -> append to temp; parameter entity reference in entity value; ENTITY value in entity state
EOF  -> error; ENTITY value in entity state; reconsume
NULL -> error; append U+FFFD to temp
ELSE -> append to temp

* after mss state
## <![

WS   -> 
%    -> parameter entity name in markup declaration state
EOF  -> DTD state; reconsume
"INCLUDE" -> after INCLUDE keyword state
"IGNORE" -> after IGNORE keyword state
# []<> -> error; marked section; ignored section state; reconsume
ELSE -> error; marked section; ignored section state; reconsume

* after INCLUDE keyword state

WS   ->
[    -> marked section(INCLUDE); DTD state
%    -> parameter entity name in markup declaration state
EOF  -> DTD state; reconsume
# ]<>  -> error; marked section; ignored section state; reconsume
ELSE -> error; marked section; ignored section state; reconsume

* after IGNORE keyword state

WS   -> 
[    -> marked section; ignored section state
%    -> parameter entity name in markup declaration state
EOF  -> DTD state; reconsume
# ]<>  -> error; marked section; ignored section state; reconsume
ELSE -> error; marked section; ignored section state; reconsume

* ignored section state

]    -> in ignored section msc state
EOF  -> DTD state; reconsume
ELSE -> 

* in ignored section msc state

]    -> after ignored section msc state
EOF  -> DTD state; reconsume
ELSE -> ignored section state

* after ignored section msc state

>    -> close marked section and reset
]    -> 
EOF  -> DTD state; reconsume
ELSE -> ignored section state

* in DTD msc state

]    -> after DTD msc state
EOF  -> DTD state; reconsume
ELSE -> error(-1); DTD state

* after DTD msc state

>    -> close marked section and reset
]    -> error(-2)
EOF  -> DTD state; reconsume
ELSE -> error(-2); DTD state
